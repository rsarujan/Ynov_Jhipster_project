{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{120:function(t,c,e){e.r(c),e.d(c,\"MetricsModule\",(function(){return y}));var i=e(0),s=e(4),n=e(37),r=e(61),a=e(16),g=e(13);class o{constructor(t){this.http=t}getMetrics(){return this.http.get(a.b+\"management/jhimetrics\")}threadDump(){return this.http.get(a.b+\"management/threaddump\")}}o.ɵfac=function(t){return new(t||o)(i.oc(g.b))},o.ɵprov=i.Xb({token:o,factory:o.ɵfac,providedIn:\"root\"});var d=e(3),u=e(21),m=e(2);function h(t,c){if(1&t&&(i.gc(0,\"div\",12),i.Sc(1,\"\\n        \"),i.gc(2,\"jhi-jvm-memory\",13),i.Sc(3,\"\\n        \"),i.fc(),i.Sc(4,\"\\n\\n        \"),i.gc(5,\"jhi-jvm-threads\",14),i.Sc(6,\"\\n        \"),i.fc(),i.Sc(7,\"\\n\\n        \"),i.gc(8,\"jhi-metrics-system\",15),i.Sc(9,\"\\n        \"),i.fc(),i.Sc(10,\"\\n    \"),i.fc()),2&t){const t=i.tc();i.Ob(2),i.Ac(\"updating\",t.updatingMetrics)(\"jvmMemoryMetrics\",t.metrics.jvm),i.Ob(3),i.Ac(\"threadData\",t.threads),i.Ob(3),i.Ac(\"updating\",t.updatingMetrics)(\"systemMetrics\",t.metrics.processMetrics)}}function p(t,c){if(1&t&&(i.gc(0,\"div\"),i.Sc(1,\"\\n        \"),i.gc(2,\"h3\",16),i.Sc(3,\"Garbage collector statistics\"),i.fc(),i.Sc(4,\"\\n\\n        \"),i.gc(5,\"jhi-metrics-garbagecollector\",17),i.Sc(6,\"\\n        \"),i.fc(),i.Sc(7,\"\\n    \"),i.fc()),2&t){const t=i.tc();i.Ob(5),i.Ac(\"updating\",t.updatingMetrics)(\"garbageCollectorMetrics\",t.metrics.garbageCollector)}}function f(t,c){1&t&&(i.gc(0,\"div\",18),i.Sc(1,\"Updating...\"),i.fc())}function l(t,c){if(1&t&&(i.gc(0,\"jhi-metrics-request\",19),i.Sc(1,\"\\n    \"),i.fc()),2&t){const t=i.tc();i.Ac(\"updating\",t.updatingMetrics)(\"requestMetrics\",t.metrics[\"http.server.requests\"])}}function M(t,c){if(1&t&&(i.gc(0,\"jhi-metrics-endpoints-requests\",20),i.Sc(1,\"\\n    \"),i.fc()),2&t){const t=i.tc();i.Ac(\"updating\",t.updatingMetrics)(\"endpointsRequestsMetrics\",t.metrics.services)}}function S(t,c){if(1&t&&(i.gc(0,\"jhi-metrics-cache\",21),i.Sc(1,\"\\n    \"),i.fc()),2&t){const t=i.tc();i.Ac(\"updating\",t.updatingMetrics)(\"cacheMetrics\",t.metrics.cache)}}function b(t,c){if(1&t&&(i.gc(0,\"jhi-metrics-datasource\",22),i.Sc(1,\"\\n    \"),i.fc()),2&t){const t=i.tc();i.Ac(\"updating\",t.updatingMetrics)(\"datasourceMetrics\",t.metrics.databases)}}class j{constructor(t,c){this.metricsService=t,this.changeDetector=c,this.updatingMetrics=!0}ngOnInit(){this.refresh()}refresh(){this.updatingMetrics=!0,this.metricsService.getMetrics().pipe(Object(r.a)(()=>this.metricsService.threadDump(),(t,c)=>{this.metrics=t,this.threads=c.threads,this.updatingMetrics=!1,this.changeDetector.detectChanges()})).subscribe()}metricsKeyExists(t){return this.metrics&&this.metrics[t]}metricsKeyExistsAndObjectNotEmpty(t){return this.metrics&&this.metrics[t]&&\"{}\"!==JSON.stringify(this.metrics[t])}}j.ɵfac=function(t){return new(t||j)(i.bc(o),i.bc(i.j))},j.ɵcmp=i.Vb({type:j,selectors:[[\"jhi-metrics\"]],decls:34,vars:7,consts:[[\"id\",\"metrics-page-heading\",\"jhiTranslate\",\"metrics.title\"],[1,\"btn\",\"btn-primary\",\"float-right\",3,\"click\"],[\"icon\",\"sync\"],[\"jhiTranslate\",\"metrics.refresh.button\"],[\"jhiTranslate\",\"metrics.jvm.title\"],[\"class\",\"row\",4,\"ngIf\"],[4,\"ngIf\"],[\"class\",\"well well-lg\",\"jhiTranslate\",\"metrics.updating\",4,\"ngIf\"],[3,\"updating\",\"requestMetrics\",4,\"ngIf\"],[3,\"updating\",\"endpointsRequestsMetrics\",4,\"ngIf\"],[3,\"updating\",\"cacheMetrics\",4,\"ngIf\"],[3,\"updating\",\"datasourceMetrics\",4,\"ngIf\"],[1,\"row\"],[1,\"col-md-4\",3,\"updating\",\"jvmMemoryMetrics\"],[1,\"col-md-4\",3,\"threadData\"],[1,\"col-md-4\",3,\"updating\",\"systemMetrics\"],[\"jhiTranslate\",\"metrics.jvm.gc.title\"],[3,\"updating\",\"garbageCollectorMetrics\"],[\"jhiTranslate\",\"metrics.updating\",1,\"well\",\"well-lg\"],[3,\"updating\",\"requestMetrics\"],[3,\"updating\",\"endpointsRequestsMetrics\"],[3,\"updating\",\"cacheMetrics\"],[3,\"updating\",\"datasourceMetrics\"]],template:function(t,c){1&t&&(i.gc(0,\"div\"),i.Sc(1,\"\\n    \"),i.gc(2,\"h2\"),i.Sc(3,\"\\n        \"),i.gc(4,\"span\",0),i.Sc(5,\"Application Metrics\"),i.fc(),i.Sc(6,\"\\n\\n        \"),i.gc(7,\"button\",1),i.rc(\"click\",(function(){return c.refresh()})),i.Sc(8,\"\\n            \"),i.cc(9,\"fa-icon\",2),i.Sc(10,\" \"),i.gc(11,\"span\",3),i.Sc(12,\"Refresh\"),i.fc(),i.Sc(13,\"\\n        \"),i.fc(),i.Sc(14,\"\\n    \"),i.fc(),i.Sc(15,\"\\n\\n    \"),i.gc(16,\"h3\",4),i.Sc(17,\"JVM Metrics\"),i.fc(),i.Sc(18,\"\\n\\n    \"),i.Qc(19,h,11,5,\"div\",5),i.Sc(20,\"\\n\\n    \"),i.Qc(21,p,8,2,\"div\",6),i.Sc(22,\"\\n\\n    \"),i.Qc(23,f,2,0,\"div\",7),i.Sc(24,\"\\n\\n    \"),i.Qc(25,l,2,2,\"jhi-metrics-request\",8),i.Sc(26,\"\\n\\n    \"),i.Qc(27,M,2,2,\"jhi-metrics-endpoints-requests\",9),i.Sc(28,\"\\n\\n    \"),i.Qc(29,S,2,2,\"jhi-metrics-cache\",10),i.Sc(30,\"\\n\\n    \"),i.Qc(31,b,2,2,\"jhi-metrics-datasource\",11),i.Sc(32,\"\\n\"),i.fc(),i.Sc(33,\"\\n\")),2&t&&(i.Ob(19),i.Ac(\"ngIf\",c.metrics&&!c.updatingMetrics),i.Ob(2),i.Ac(\"ngIf\",c.metrics&&c.metricsKeyExists(\"garbageCollector\")),i.Ob(2),i.Ac(\"ngIf\",c.updatingMetrics),i.Ob(2),i.Ac(\"ngIf\",c.metrics&&c.metricsKeyExists(\"http.server.requests\")),i.Ob(2),i.Ac(\"ngIf\",c.metrics&&c.metricsKeyExists(\"services\")),i.Ob(2),i.Ac(\"ngIf\",c.metrics&&c.metricsKeyExists(\"cache\")),i.Ob(2),i.Ac(\"ngIf\",c.metrics&&c.metricsKeyExistsAndObjectNotEmpty(\"databases\")))},directives:[d.n,u.a,m.o,d.r,d.s,d.x,d.y,d.t,d.u,d.v,d.w],encapsulation:2,changeDetection:0});const v={path:\"\",component:j,data:{pageTitle:\"metrics.title\"}};class y{}y.ɵmod=i.Zb({type:y}),y.ɵinj=i.Yb({factory:function(t){return new(t||y)},imports:[[n.a,s.h.forChild([v])]]}),(\"undefined\"==typeof ngJitMode||ngJitMode)&&i.Mc(y,{declarations:[j],imports:[n.a,s.h]})}}]);","extractedComments":[]}