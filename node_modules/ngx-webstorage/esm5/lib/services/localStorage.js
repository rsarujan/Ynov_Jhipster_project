import { __extends } from "tslib";
import { SyncStorage } from '../core/templates/syncStorage';
import { StrategyIndex } from './strategyIndex';
import { StorageStrategies } from '../constants/strategy';
var LocalStorageService = /** @class */ (function (_super) {
    __extends(LocalStorageService, _super);
    function LocalStorageService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return LocalStorageService;
}(SyncStorage));
export { LocalStorageService };
export function buildService(index) {
    var strategy = index.indexStrategy(StorageStrategies.Local);
    return new SyncStorage(strategy);
}
export var LocalStorageServiceProvider = {
    provide: LocalStorageService,
    useFactory: buildService,
    deps: [StrategyIndex]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9jYWxTdG9yYWdlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LXdlYnN0b3JhZ2UvIiwic291cmNlcyI6WyJsaWIvc2VydmljZXMvbG9jYWxTdG9yYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLEVBQUMsV0FBVyxFQUFDLE1BQU0sK0JBQStCLENBQUM7QUFDMUQsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBRTlDLE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBRXhEO0lBQXlDLHVDQUFXO0lBQXBEOztJQUFzRCxDQUFDO0lBQUQsMEJBQUM7QUFBRCxDQUFDLEFBQXZELENBQXlDLFdBQVcsR0FBRzs7QUFFdkQsTUFBTSxVQUFVLFlBQVksQ0FBQyxLQUFvQjtJQUNoRCxJQUFNLFFBQVEsR0FBeUIsS0FBSyxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwRixPQUFPLElBQUksV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ2xDLENBQUM7QUFFRCxNQUFNLENBQUMsSUFBTSwyQkFBMkIsR0FBb0I7SUFDM0QsT0FBTyxFQUFFLG1CQUFtQjtJQUM1QixVQUFVLEVBQUUsWUFBWTtJQUN4QixJQUFJLEVBQUUsQ0FBQyxhQUFhLENBQUM7Q0FDckIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmFjdG9yeVByb3ZpZGVyfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7U3luY1N0b3JhZ2V9IGZyb20gJy4uL2NvcmUvdGVtcGxhdGVzL3N5bmNTdG9yYWdlJztcbmltcG9ydCB7U3RyYXRlZ3lJbmRleH0gZnJvbSAnLi9zdHJhdGVneUluZGV4JztcbmltcG9ydCB7U3RvcmFnZVN0cmF0ZWd5fSBmcm9tICcuLi9jb3JlL2ludGVyZmFjZXMvc3RvcmFnZVN0cmF0ZWd5JztcbmltcG9ydCB7U3RvcmFnZVN0cmF0ZWdpZXN9IGZyb20gJy4uL2NvbnN0YW50cy9zdHJhdGVneSc7XG5cbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2VTZXJ2aWNlIGV4dGVuZHMgU3luY1N0b3JhZ2Uge31cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkU2VydmljZShpbmRleDogU3RyYXRlZ3lJbmRleCkge1xuXHRjb25zdCBzdHJhdGVneTogU3RvcmFnZVN0cmF0ZWd5PGFueT4gPSBpbmRleC5pbmRleFN0cmF0ZWd5KFN0b3JhZ2VTdHJhdGVnaWVzLkxvY2FsKTtcblx0cmV0dXJuIG5ldyBTeW5jU3RvcmFnZShzdHJhdGVneSk7XG59XG5cbmV4cG9ydCBjb25zdCBMb2NhbFN0b3JhZ2VTZXJ2aWNlUHJvdmlkZXI6IEZhY3RvcnlQcm92aWRlciA9IHtcblx0cHJvdmlkZTogTG9jYWxTdG9yYWdlU2VydmljZSxcblx0dXNlRmFjdG9yeTogYnVpbGRTZXJ2aWNlLFxuXHRkZXBzOiBbU3RyYXRlZ3lJbmRleF1cbn07XG4iXX0=