import { DefaultIsCaseSensitive, DefaultPrefix, DefaultSeparator } from '../constants/config';
export class StorageKeyManager {
    static normalize(raw) {
        raw = StorageKeyManager.isCaseSensitive ? raw : raw.toLowerCase();
        return `${StorageKeyManager.prefix}${StorageKeyManager.separator}${raw}`;
    }
    static isNormalizedKey(key) {
        return key.indexOf(StorageKeyManager.prefix + StorageKeyManager.separator) === 0;
    }
    static setPrefix(prefix) {
        StorageKeyManager.prefix = prefix;
    }
    static setSeparator(separator) {
        StorageKeyManager.separator = separator;
    }
    static setCaseSensitive(enable) {
        StorageKeyManager.isCaseSensitive = enable;
    }
    static consumeConfiguration(config) {
        if ('prefix' in config)
            this.setPrefix(config.prefix);
        if ('separator' in config)
            this.setSeparator(config.separator);
        if ('caseSensitive' in config)
            this.setCaseSensitive(config.caseSensitive);
    }
}
StorageKeyManager.prefix = DefaultPrefix;
StorageKeyManager.separator = DefaultSeparator;
StorageKeyManager.isCaseSensitive = DefaultIsCaseSensitive;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmFnZUtleU1hbmFnZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtd2Vic3RvcmFnZS8iLCJzb3VyY2VzIjpbImxpYi9oZWxwZXJzL3N0b3JhZ2VLZXlNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxzQkFBc0IsRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQztBQUc1RixNQUFNLE9BQU8saUJBQWlCO0lBTTdCLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBVztRQUMzQixHQUFHLEdBQUcsaUJBQWlCLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNsRSxPQUFPLEdBQUcsaUJBQWlCLENBQUMsTUFBTSxHQUFHLGlCQUFpQixDQUFDLFNBQVMsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUMxRSxDQUFDO0lBRUQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxHQUFXO1FBQ2pDLE9BQU8sR0FBRyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLEdBQUcsaUJBQWlCLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFFRCxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQWM7UUFDOUIsaUJBQWlCLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUNuQyxDQUFDO0lBRUQsTUFBTSxDQUFDLFlBQVksQ0FBQyxTQUFpQjtRQUNwQyxpQkFBaUIsQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsTUFBZTtRQUN0QyxpQkFBaUIsQ0FBQyxlQUFlLEdBQUcsTUFBTSxDQUFDO0lBQzVDLENBQUM7SUFFRCxNQUFNLENBQUMsb0JBQW9CLENBQUMsTUFBa0M7UUFDN0QsSUFBSSxRQUFRLElBQUksTUFBTTtZQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3RELElBQUksV0FBVyxJQUFJLE1BQU07WUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMvRCxJQUFJLGVBQWUsSUFBSSxNQUFNO1lBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUM1RSxDQUFDOztBQTdCTSx3QkFBTSxHQUFHLGFBQWEsQ0FBQztBQUN2QiwyQkFBUyxHQUFHLGdCQUFnQixDQUFDO0FBQzdCLGlDQUFlLEdBQUcsc0JBQXNCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0RlZmF1bHRJc0Nhc2VTZW5zaXRpdmUsIERlZmF1bHRQcmVmaXgsIERlZmF1bHRTZXBhcmF0b3J9IGZyb20gJy4uL2NvbnN0YW50cy9jb25maWcnO1xuaW1wb3J0IHtOZ3hXZWJzdG9yYWdlQ29uZmlndXJhdGlvbn0gZnJvbSAnLi4vY29uZmlnJztcblxuZXhwb3J0IGNsYXNzIFN0b3JhZ2VLZXlNYW5hZ2VyIHtcblx0XG5cdHN0YXRpYyBwcmVmaXggPSBEZWZhdWx0UHJlZml4O1xuXHRzdGF0aWMgc2VwYXJhdG9yID0gRGVmYXVsdFNlcGFyYXRvcjtcblx0c3RhdGljIGlzQ2FzZVNlbnNpdGl2ZSA9IERlZmF1bHRJc0Nhc2VTZW5zaXRpdmU7XG5cdFxuXHRzdGF0aWMgbm9ybWFsaXplKHJhdzogc3RyaW5nKSB7XG5cdFx0cmF3ID0gU3RvcmFnZUtleU1hbmFnZXIuaXNDYXNlU2Vuc2l0aXZlID8gcmF3IDogcmF3LnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIGAke1N0b3JhZ2VLZXlNYW5hZ2VyLnByZWZpeH0ke1N0b3JhZ2VLZXlNYW5hZ2VyLnNlcGFyYXRvcn0ke3Jhd31gO1xuXHR9XG5cdFxuXHRzdGF0aWMgaXNOb3JtYWxpemVkS2V5KGtleTogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIGtleS5pbmRleE9mKFN0b3JhZ2VLZXlNYW5hZ2VyLnByZWZpeCArIFN0b3JhZ2VLZXlNYW5hZ2VyLnNlcGFyYXRvcikgPT09IDA7XG5cdH1cblx0XG5cdHN0YXRpYyBzZXRQcmVmaXgocHJlZml4OiBzdHJpbmcpIHtcblx0XHRTdG9yYWdlS2V5TWFuYWdlci5wcmVmaXggPSBwcmVmaXg7XG5cdH1cblx0XG5cdHN0YXRpYyBzZXRTZXBhcmF0b3Ioc2VwYXJhdG9yOiBzdHJpbmcpIHtcblx0XHRTdG9yYWdlS2V5TWFuYWdlci5zZXBhcmF0b3IgPSBzZXBhcmF0b3I7XG5cdH1cblx0XG5cdHN0YXRpYyBzZXRDYXNlU2Vuc2l0aXZlKGVuYWJsZTogYm9vbGVhbikge1xuXHRcdFN0b3JhZ2VLZXlNYW5hZ2VyLmlzQ2FzZVNlbnNpdGl2ZSA9IGVuYWJsZTtcblx0fVxuXHRcblx0c3RhdGljIGNvbnN1bWVDb25maWd1cmF0aW9uKGNvbmZpZzogTmd4V2Vic3RvcmFnZUNvbmZpZ3VyYXRpb24pIHtcblx0XHRpZiAoJ3ByZWZpeCcgaW4gY29uZmlnKSB0aGlzLnNldFByZWZpeChjb25maWcucHJlZml4KTtcblx0XHRpZiAoJ3NlcGFyYXRvcicgaW4gY29uZmlnKSB0aGlzLnNldFNlcGFyYXRvcihjb25maWcuc2VwYXJhdG9yKTtcblx0XHRpZiAoJ2Nhc2VTZW5zaXRpdmUnIGluIGNvbmZpZykgdGhpcy5zZXRDYXNlU2Vuc2l0aXZlKGNvbmZpZy5jYXNlU2Vuc2l0aXZlKTtcblx0fVxufVxuIl19