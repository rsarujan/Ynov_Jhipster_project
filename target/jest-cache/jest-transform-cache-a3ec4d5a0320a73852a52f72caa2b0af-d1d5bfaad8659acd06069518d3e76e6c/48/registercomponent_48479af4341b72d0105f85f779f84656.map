{"version":3,"sources":["/Users/sarujanrajaratnam/Desktop/Ynov/Ynov_TEST_Projet/src/main/webapp/app/account/register/register.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, AfterViewInit, ElementRef, ViewChild } from '@angular/core';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { JhiLanguageService } from 'ng-jhipster';\n\nimport { EMAIL_ALREADY_USED_TYPE, LOGIN_ALREADY_USED_TYPE } from 'app/shared/constants/error.constants';\nimport { LoginModalService } from 'app/core/login/login-modal.service';\nimport { RegisterService } from './register.service';\n\n@Component({\n  selector: 'jhi-register',\n  templateUrl: './register.component.html',\n})\nexport class RegisterComponent implements AfterViewInit {\n  @ViewChild('login', { static: false })\n  login?: ElementRef;\n\n  doNotMatch = false;\n  error = false;\n  errorEmailExists = false;\n  errorUserExists = false;\n  success = false;\n\n  registerForm = this.fb.group({\n    login: [\n      '',\n      [\n        Validators.required,\n        Validators.minLength(1),\n        Validators.maxLength(50),\n        Validators.pattern('^[a-zA-Z0-9!$&*+=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*$|^[_.@A-Za-z0-9-]+$'),\n      ],\n    ],\n    email: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(254), Validators.email]],\n    password: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(50)]],\n    confirmPassword: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(50)]],\n  });\n\n  constructor(\n    private languageService: JhiLanguageService,\n    private loginModalService: LoginModalService,\n    private registerService: RegisterService,\n    private fb: FormBuilder\n  ) {}\n\n  ngAfterViewInit(): void {\n    if (this.login) {\n      this.login.nativeElement.focus();\n    }\n  }\n\n  register(): void {\n    this.doNotMatch = false;\n    this.error = false;\n    this.errorEmailExists = false;\n    this.errorUserExists = false;\n\n    const password = this.registerForm.get(['password'])!.value;\n    if (password !== this.registerForm.get(['confirmPassword'])!.value) {\n      this.doNotMatch = true;\n    } else {\n      const login = this.registerForm.get(['login'])!.value;\n      const email = this.registerForm.get(['email'])!.value;\n      this.registerService.save({ login, email, password, langKey: this.languageService.getCurrentLanguage() }).subscribe(\n        () => (this.success = true),\n        response => this.processError(response)\n      );\n    }\n  }\n\n  openLogin(): void {\n    this.loginModalService.open();\n  }\n\n  private processError(response: HttpErrorResponse): void {\n    if (response.status === 400 && response.error.type === LOGIN_ALREADY_USED_TYPE) {\n      this.errorUserExists = true;\n    } else if (response.status === 400 && response.error.type === EMAIL_ALREADY_USED_TYPE) {\n      this.errorEmailExists = true;\n    } else {\n      this.error = true;\n    }\n  }\n}\n"]}