{"version":3,"sources":["/Users/sarujanrajaratnam/Desktop/Ynov/Ynov_TEST_Projet/src/main/webapp/app/admin/user-management/user-management-update.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { LANGUAGES } from 'app/core/language/language.constants';\nimport { User } from 'app/core/user/user.model';\nimport { UserService } from 'app/core/user/user.service';\n\n@Component({\n  selector: 'jhi-user-mgmt-update',\n  templateUrl: './user-management-update.component.html',\n})\nexport class UserManagementUpdateComponent implements OnInit {\n  user!: User;\n  languages = LANGUAGES;\n  authorities: string[] = [];\n  isSaving = false;\n\n  editForm = this.fb.group({\n    id: [],\n    login: [\n      '',\n      [\n        Validators.required,\n        Validators.minLength(1),\n        Validators.maxLength(50),\n        Validators.pattern('^[a-zA-Z0-9!$&*+=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*$|^[_.@A-Za-z0-9-]+$'),\n      ],\n    ],\n    firstName: ['', [Validators.maxLength(50)]],\n    lastName: ['', [Validators.maxLength(50)]],\n    email: ['', [Validators.minLength(5), Validators.maxLength(254), Validators.email]],\n    activated: [],\n    langKey: [],\n    authorities: [],\n  });\n\n  constructor(private userService: UserService, private route: ActivatedRoute, private fb: FormBuilder) {}\n\n  ngOnInit(): void {\n    this.route.data.subscribe(({ user }) => {\n      if (user) {\n        this.user = user;\n        if (this.user.id === undefined) {\n          this.user.activated = true;\n        }\n        this.updateForm(user);\n      }\n    });\n    this.userService.authorities().subscribe(authorities => {\n      this.authorities = authorities;\n    });\n  }\n\n  previousState(): void {\n    window.history.back();\n  }\n\n  save(): void {\n    this.isSaving = true;\n    this.updateUser(this.user);\n    if (this.user.id !== undefined) {\n      this.userService.update(this.user).subscribe(\n        () => this.onSaveSuccess(),\n        () => this.onSaveError()\n      );\n    } else {\n      this.userService.create(this.user).subscribe(\n        () => this.onSaveSuccess(),\n        () => this.onSaveError()\n      );\n    }\n  }\n\n  private updateForm(user: User): void {\n    this.editForm.patchValue({\n      id: user.id,\n      login: user.login,\n      firstName: user.firstName,\n      lastName: user.lastName,\n      email: user.email,\n      activated: user.activated,\n      langKey: user.langKey,\n      authorities: user.authorities,\n    });\n  }\n\n  private updateUser(user: User): void {\n    user.login = this.editForm.get(['login'])!.value;\n    user.firstName = this.editForm.get(['firstName'])!.value;\n    user.lastName = this.editForm.get(['lastName'])!.value;\n    user.email = this.editForm.get(['email'])!.value;\n    user.activated = this.editForm.get(['activated'])!.value;\n    user.langKey = this.editForm.get(['langKey'])!.value;\n    user.authorities = this.editForm.get(['authorities'])!.value;\n  }\n\n  private onSaveSuccess(): void {\n    this.isSaving = false;\n    this.previousState();\n  }\n\n  private onSaveError(): void {\n    this.isSaving = false;\n  }\n}\n"]}