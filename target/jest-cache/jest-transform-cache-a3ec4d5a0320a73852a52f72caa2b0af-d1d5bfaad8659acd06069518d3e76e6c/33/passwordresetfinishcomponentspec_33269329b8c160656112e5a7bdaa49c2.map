{"file":"/Users/sarujanrajaratnam/Desktop/Ynov/Ynov_TEST_Projet/src/test/javascript/spec/app/account/password-reset/finish/password-reset-finish.component.spec.ts","mappings":"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","names":[],"sources":["/Users/sarujanrajaratnam/Desktop/Ynov/Ynov_TEST_Projet/src/test/javascript/spec/app/account/password-reset/finish/password-reset-finish.component.spec.ts"],"sourcesContent":["import { ElementRef } from '@angular/core';\nimport { ComponentFixture, TestBed, inject, tick, fakeAsync } from '@angular/core/testing';\nimport { FormBuilder } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { of, throwError } from 'rxjs';\n\nimport { ProBiblioTestModule } from '../../../../test.module';\nimport { PasswordResetFinishComponent } from 'app/account/password-reset/finish/password-reset-finish.component';\nimport { PasswordResetFinishService } from 'app/account/password-reset/finish/password-reset-finish.service';\nimport { MockActivatedRoute } from '../../../../helpers/mock-route.service';\n\ndescribe('Component Tests', () => {\n  describe('PasswordResetFinishComponent', () => {\n    let fixture: ComponentFixture<PasswordResetFinishComponent>;\n    let comp: PasswordResetFinishComponent;\n\n    beforeEach(() => {\n      fixture = TestBed.configureTestingModule({\n        imports: [ProBiblioTestModule],\n        declarations: [PasswordResetFinishComponent],\n        providers: [\n          FormBuilder,\n          {\n            provide: ActivatedRoute,\n            useValue: new MockActivatedRoute({ key: 'XYZPDQ' }),\n          },\n        ],\n      })\n        .overrideTemplate(PasswordResetFinishComponent, '')\n        .createComponent(PasswordResetFinishComponent);\n    });\n\n    beforeEach(() => {\n      fixture = TestBed.createComponent(PasswordResetFinishComponent);\n      comp = fixture.componentInstance;\n      comp.ngOnInit();\n    });\n\n    it('should define its initial state', () => {\n      expect(comp.initialized).toBe(true);\n      expect(comp.key).toEqual('XYZPDQ');\n    });\n\n    it('sets focus after the view has been initialized', () => {\n      const node = {\n        focus(): void {},\n      };\n      comp.newPassword = new ElementRef(node);\n      spyOn(node, 'focus');\n\n      comp.ngAfterViewInit();\n\n      expect(node.focus).toHaveBeenCalled();\n    });\n\n    it('should ensure the two passwords entered match', () => {\n      comp.passwordForm.patchValue({\n        newPassword: 'password',\n        confirmPassword: 'non-matching',\n      });\n\n      comp.finishReset();\n\n      expect(comp.doNotMatch).toBe(true);\n    });\n\n    it('should update success to true after resetting password', inject(\n      [PasswordResetFinishService],\n      fakeAsync((service: PasswordResetFinishService) => {\n        spyOn(service, 'save').and.returnValue(of({}));\n        comp.passwordForm.patchValue({\n          newPassword: 'password',\n          confirmPassword: 'password',\n        });\n\n        comp.finishReset();\n        tick();\n\n        expect(service.save).toHaveBeenCalledWith('XYZPDQ', 'password');\n        expect(comp.success).toBe(true);\n      })\n    ));\n\n    it('should notify of generic error', inject(\n      [PasswordResetFinishService],\n      fakeAsync((service: PasswordResetFinishService) => {\n        spyOn(service, 'save').and.returnValue(throwError('ERROR'));\n        comp.passwordForm.patchValue({\n          newPassword: 'password',\n          confirmPassword: 'password',\n        });\n\n        comp.finishReset();\n        tick();\n\n        expect(service.save).toHaveBeenCalledWith('XYZPDQ', 'password');\n        expect(comp.success).toBe(false);\n        expect(comp.error).toBe(true);\n      })\n    ));\n  });\n});\n"],"version":3}