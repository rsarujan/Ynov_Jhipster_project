{"version":3,"sources":["/Users/sarujanrajaratnam/Desktop/Ynov/Ynov_TEST_Projet/src/main/webapp/app/core/login/login.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeG;;;;;;;;;;;;;;;;;;;;AAfH,MAAA,MAAA;AAAA;AAAA,yBAAA,OAAA,CAAA,eAAA,CAAA,CAAA;AAEA,MAAA,WAAA;AAAA;AAAA,yBAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;AAGA,MAAA,iBAAA;AAAA;AAAA,yBAAA,OAAA,CAAA,+BAAA,CAAA,CAAA;AACA,MAAA,kBAAA;AAAA;AAAA,yBAAA,OAAA,CAAA,gCAAA,CAAA,CAAA;;;;AAIA,IAAa,YAAY,GAAzB,MAAa,YAAb,CAAyB;AACvB,EAAA,WAAA,CAAoB,cAApB,EAA4D,kBAA5D,EAAkG;AAAA;AAAA;AAAA;AAA9E,SAAA,cAAA,GAAA,cAAA;;AAA8E;AAAA;AAAtC,SAAA,kBAAA,GAAA,kBAAA;AAA0C;;AAEtG,EAAA,KAAK,CAAC,WAAD,EAAmB;AAAA;AAAA;AAAA;AACtB,WAAO,KAAK,kBAAL,CAAwB,KAAxB,CAA8B,WAA9B,EAA2C,IAA3C,CAAgD,WAAA,CAAA,OAAA,CAAQ,MAAM;AAAA;AAAA;AAAA;AAAA,kBAAK,cAAL,CAAoB,QAApB,CAA6B,IAA7B;AAAkC,KAAhD,CAAhD,CAAP;AACD;;AAED,EAAA,MAAM,GAAA;AAAA;AAAA;AAAA;AACJ,SAAK,kBAAL,CAAwB,MAAxB,GAAiC,SAAjC,CAA2C,IAA3C,EAAiD,IAAjD,EAAuD,MAAM;AAAA;AAAA;AAAA;AAAA,kBAAK,cAAL,CAAoB,YAApB,CAAiC,IAAjC;AAAsC,KAAnG;AACD;;AATsB,CAAzB;;;;AAAa,YAAY,GAAA,OAAA,CAAA,UAAA,CAAA,CADxB,MAAA,CAAA,UAAA,CAAW;AAAE,EAAA,UAAU,EAAE;AAAd,CAAX,CACwB,E,yCACa,iBAAA,CAAA,c,EAA4C,kBAAA,CAAA,kB,EADzD,CAAA,EAAZ,YAAY,CAAZ;;;;AAAA,OAAA,CAAA,YAAA,GAAA,YAAA","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { flatMap } from 'rxjs/operators';\n\nimport { Account } from 'app/core/user/account.model';\nimport { AccountService } from 'app/core/auth/account.service';\nimport { AuthServerProvider } from 'app/core/auth/auth-jwt.service';\nimport { Login } from './login.model';\n\n@Injectable({ providedIn: 'root' })\nexport class LoginService {\n  constructor(private accountService: AccountService, private authServerProvider: AuthServerProvider) {}\n\n  login(credentials: Login): Observable<Account | null> {\n    return this.authServerProvider.login(credentials).pipe(flatMap(() => this.accountService.identity(true)));\n  }\n\n  logout(): void {\n    this.authServerProvider.logout().subscribe(null, null, () => this.accountService.authenticate(null));\n  }\n}\n"]}