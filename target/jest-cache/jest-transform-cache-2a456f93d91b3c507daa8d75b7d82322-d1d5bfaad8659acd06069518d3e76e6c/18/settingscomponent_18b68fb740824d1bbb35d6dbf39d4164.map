{"version":3,"sources":["/Users/sarujanrajaratnam/Desktop/Ynov/YNOV_PROJET_BIBLIOTHEQUE_CLEMENCE_SARUJAN/Ynov_TEST_Projet/src/main/webapp/app/account/settings/settings.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { JhiLanguageService } from 'ng-jhipster';\n\nimport { AccountService } from 'app/core/auth/account.service';\nimport { Account } from 'app/core/user/account.model';\nimport { LANGUAGES } from 'app/core/language/language.constants';\n\n@Component({\n  selector: 'jhi-settings',\n  templateUrl: './settings.component.html',\n})\nexport class SettingsComponent implements OnInit {\n  account!: Account;\n  success = false;\n  languages = LANGUAGES;\n  settingsForm = this.fb.group({\n    firstName: [undefined, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]],\n    lastName: [undefined, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]],\n    email: [undefined, [Validators.required, Validators.minLength(5), Validators.maxLength(254), Validators.email]],\n    langKey: [undefined],\n  });\n\n  constructor(private accountService: AccountService, private fb: FormBuilder, private languageService: JhiLanguageService) {}\n\n  ngOnInit(): void {\n    this.accountService.identity().subscribe(account => {\n      if (account) {\n        this.settingsForm.patchValue({\n          firstName: account.firstName,\n          lastName: account.lastName,\n          email: account.email,\n          langKey: account.langKey,\n        });\n\n        this.account = account;\n      }\n    });\n  }\n\n  save(): void {\n    this.success = false;\n\n    this.account.firstName = this.settingsForm.get('firstName')!.value;\n    this.account.lastName = this.settingsForm.get('lastName')!.value;\n    this.account.email = this.settingsForm.get('email')!.value;\n    this.account.langKey = this.settingsForm.get('langKey')!.value;\n\n    this.accountService.save(this.account).subscribe(() => {\n      this.success = true;\n\n      this.accountService.authenticate(this.account);\n\n      if (this.account.langKey !== this.languageService.getCurrentLanguage()) {\n        this.languageService.changeLanguage(this.account.langKey);\n      }\n    });\n  }\n}\n"]}