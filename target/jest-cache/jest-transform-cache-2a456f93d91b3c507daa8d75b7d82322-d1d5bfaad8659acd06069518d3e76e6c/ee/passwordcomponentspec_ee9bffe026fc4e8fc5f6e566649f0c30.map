{"file":"/Users/sarujanrajaratnam/Desktop/Ynov/YNOV_PROJET_BIBLIOTHEQUE_CLEMENCE_SARUJAN/Ynov_TEST_Projet/src/test/javascript/spec/app/account/password/password.component.spec.ts","mappings":";;AAAA,mDAAyE;AACzE,+CAAoD;AACpD,0CAA6C;AAC7C,+BAAsC;AAEtC,sDAA2D;AAC3D,gFAA4E;AAC5E,4EAAwE;AAExE,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;IAC/B,QAAQ,CAAC,mBAAmB,EAAE,GAAG,EAAE;QACjC,IAAI,IAAuB,CAAC;QAC5B,IAAI,OAA4C,CAAC;QACjD,IAAI,OAAwB,CAAC;QAE7B,UAAU,CAAC,eAAK,CAAC,GAAG,EAAE;YACpB,iBAAO,CAAC,sBAAsB,CAAC;gBAC7B,OAAO,EAAE,CAAC,iCAAmB,CAAC;gBAC9B,YAAY,EAAE,CAAC,sCAAiB,CAAC;gBACjC,SAAS,EAAE,CAAC,mBAAW,CAAC;aACzB,CAAC;iBACC,gBAAgB,CAAC,sCAAiB,EAAE,EAAE,CAAC;iBACvC,iBAAiB,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC,CAAC;QAEJ,UAAU,CAAC,GAAG,EAAE;YACd,OAAO,GAAG,iBAAO,CAAC,eAAe,CAAC,sCAAiB,CAAC,CAAC;YACrD,IAAI,GAAG,OAAO,CAAC,iBAAiB,CAAC;YACjC,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,kCAAe,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6CAA6C,EAAE,GAAG,EAAE;YACrD,QAAQ;YACR,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;gBAC3B,WAAW,EAAE,WAAW;gBACxB,eAAe,EAAE,WAAW;aAC7B,CAAC,CAAC;YACH,OAAO;YACP,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,OAAO;YACP,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACnC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sDAAsD,EAAE,GAAG,EAAE;YAC9D,QAAQ;YACR,MAAM,cAAc,GAAG;gBACrB,eAAe,EAAE,aAAa;gBAC9B,WAAW,EAAE,YAAY;aAC1B,CAAC;YAEF,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,SAAE,CAAC,IAAI,mBAAY,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YAE7E,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;gBAC3B,eAAe,EAAE,cAAc,CAAC,eAAe;gBAC/C,WAAW,EAAE,cAAc,CAAC,WAAW;gBACvC,eAAe,EAAE,cAAc,CAAC,WAAW;aAC5C,CAAC,CAAC;YAEH,OAAO;YACP,IAAI,CAAC,cAAc,EAAE,CAAC;YAEtB,OAAO;YACP,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,oBAAoB,CAAC,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC,eAAe,CAAC,CAAC;QACxG,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yCAAyC,EAAE,GAAG,EAAE;YACjD,QAAQ;YACR,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,SAAE,CAAC,IAAI,mBAAY,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YAC7E,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;gBAC3B,WAAW,EAAE,YAAY;gBACzB,eAAe,EAAE,YAAY;aAC9B,CAAC,CAAC;YAEH,OAAO;YACP,IAAI,CAAC,cAAc,EAAE,CAAC;YAEtB,OAAO;YACP,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACpC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,iDAAiD,EAAE,GAAG,EAAE;YACzD,QAAQ;YACR,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,iBAAU,CAAC,OAAO,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;gBAC3B,WAAW,EAAE,YAAY;gBACzB,eAAe,EAAE,YAAY;aAC9B,CAAC,CAAC;YAEH,OAAO;YACP,IAAI,CAAC,cAAc,EAAE,CAAC;YAEtB,OAAO;YACP,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACpC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACjC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/Users/sarujanrajaratnam/Desktop/Ynov/YNOV_PROJET_BIBLIOTHEQUE_CLEMENCE_SARUJAN/Ynov_TEST_Projet/src/test/javascript/spec/app/account/password/password.component.spec.ts"],"sourcesContent":["import { ComponentFixture, TestBed, async } from '@angular/core/testing';\nimport { HttpResponse } from '@angular/common/http';\nimport { FormBuilder } from '@angular/forms';\nimport { of, throwError } from 'rxjs';\n\nimport { ProBiblioTestModule } from '../../../test.module';\nimport { PasswordComponent } from 'app/account/password/password.component';\nimport { PasswordService } from 'app/account/password/password.service';\n\ndescribe('Component Tests', () => {\n  describe('PasswordComponent', () => {\n    let comp: PasswordComponent;\n    let fixture: ComponentFixture<PasswordComponent>;\n    let service: PasswordService;\n\n    beforeEach(async(() => {\n      TestBed.configureTestingModule({\n        imports: [ProBiblioTestModule],\n        declarations: [PasswordComponent],\n        providers: [FormBuilder],\n      })\n        .overrideTemplate(PasswordComponent, '')\n        .compileComponents();\n    }));\n\n    beforeEach(() => {\n      fixture = TestBed.createComponent(PasswordComponent);\n      comp = fixture.componentInstance;\n      service = fixture.debugElement.injector.get(PasswordService);\n    });\n\n    it('should show error if passwords do not match', () => {\n      // GIVEN\n      comp.passwordForm.patchValue({\n        newPassword: 'password1',\n        confirmPassword: 'password2',\n      });\n      // WHEN\n      comp.changePassword();\n      // THEN\n      expect(comp.doNotMatch).toBe(true);\n      expect(comp.error).toBe(false);\n      expect(comp.success).toBe(false);\n    });\n\n    it('should call Auth.changePassword when passwords match', () => {\n      // GIVEN\n      const passwordValues = {\n        currentPassword: 'oldPassword',\n        newPassword: 'myPassword',\n      };\n\n      spyOn(service, 'save').and.returnValue(of(new HttpResponse({ body: true })));\n\n      comp.passwordForm.patchValue({\n        currentPassword: passwordValues.currentPassword,\n        newPassword: passwordValues.newPassword,\n        confirmPassword: passwordValues.newPassword,\n      });\n\n      // WHEN\n      comp.changePassword();\n\n      // THEN\n      expect(service.save).toHaveBeenCalledWith(passwordValues.newPassword, passwordValues.currentPassword);\n    });\n\n    it('should set success to true upon success', () => {\n      // GIVEN\n      spyOn(service, 'save').and.returnValue(of(new HttpResponse({ body: true })));\n      comp.passwordForm.patchValue({\n        newPassword: 'myPassword',\n        confirmPassword: 'myPassword',\n      });\n\n      // WHEN\n      comp.changePassword();\n\n      // THEN\n      expect(comp.doNotMatch).toBe(false);\n      expect(comp.error).toBe(false);\n      expect(comp.success).toBe(true);\n    });\n\n    it('should notify of error if change password fails', () => {\n      // GIVEN\n      spyOn(service, 'save').and.returnValue(throwError('ERROR'));\n      comp.passwordForm.patchValue({\n        newPassword: 'myPassword',\n        confirmPassword: 'myPassword',\n      });\n\n      // WHEN\n      comp.changePassword();\n\n      // THEN\n      expect(comp.doNotMatch).toBe(false);\n      expect(comp.success).toBe(false);\n      expect(comp.error).toBe(true);\n    });\n  });\n});\n"],"version":3}