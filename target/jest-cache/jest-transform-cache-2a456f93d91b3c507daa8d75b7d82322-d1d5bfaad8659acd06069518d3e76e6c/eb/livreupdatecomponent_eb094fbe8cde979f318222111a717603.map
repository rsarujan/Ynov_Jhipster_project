{"version":3,"sources":["/Users/sarujanrajaratnam/Desktop/Ynov/YNOV_PROJET_BIBLIOTHEQUE_CLEMENCE_SARUJAN/Ynov_TEST_Projet/src/main/webapp/app/entities/livre/livre-update.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCc;;;;;;;;;;;;;;;;;;;;AAhCd,MAAA,MAAA;AAAA;AAAA,wBAAA,OAAA,CAAA,eAAA,CAAA,CAA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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpResponse } from '@angular/common/http';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { ILivre, Livre } from 'app/shared/model/livre.model';\nimport { LivreService } from './livre.service';\nimport { IEmplacement } from 'app/shared/model/emplacement.model';\nimport { EmplacementService } from 'app/entities/emplacement/emplacement.service';\n\n@Component({\n  selector: 'jhi-livre-update',\n  templateUrl: './livre-update.component.html',\n})\nexport class LivreUpdateComponent implements OnInit {\n  isSaving = false;\n  emplacements: IEmplacement[] = [];\n\n  editForm = this.fb.group({\n    id: [],\n    titre: [null, [Validators.required]],\n    description: [null, [Validators.required]],\n    isbn: [null, [Validators.required]],\n    code: [null, [Validators.required]],\n    emplacement: [],\n  });\n\n  constructor(\n    protected livreService: LivreService,\n    protected emplacementService: EmplacementService,\n    protected activatedRoute: ActivatedRoute,\n    private fb: FormBuilder\n  ) {}\n\n  ngOnInit(): void {\n    this.activatedRoute.data.subscribe(({ livre }) => {\n      this.updateForm(livre);\n\n      this.emplacementService\n        .query({ filter: 'livre-is-null' })\n        .pipe(\n          map((res: HttpResponse<IEmplacement[]>) => {\n            return res.body || [];\n          })\n        )\n        .subscribe((resBody: IEmplacement[]) => {\n          if (!livre.emplacement || !livre.emplacement.id) {\n            this.emplacements = resBody;\n          } else {\n            this.emplacementService\n              .find(livre.emplacement.id)\n              .pipe(\n                map((subRes: HttpResponse<IEmplacement>) => {\n                  return subRes.body ? [subRes.body].concat(resBody) : resBody;\n                })\n              )\n              .subscribe((concatRes: IEmplacement[]) => (this.emplacements = concatRes));\n          }\n        });\n    });\n  }\n\n  updateForm(livre: ILivre): void {\n    this.editForm.patchValue({\n      id: livre.id,\n      titre: livre.titre,\n      description: livre.description,\n      isbn: livre.isbn,\n      code: livre.code,\n      emplacement: livre.emplacement,\n    });\n  }\n\n  previousState(): void {\n    window.history.back();\n  }\n\n  save(): void {\n    this.isSaving = true;\n    const livre = this.createFromForm();\n    if (livre.id !== undefined) {\n      this.subscribeToSaveResponse(this.livreService.update(livre));\n    } else {\n      this.subscribeToSaveResponse(this.livreService.create(livre));\n    }\n  }\n\n  private createFromForm(): ILivre {\n    return {\n      ...new Livre(),\n      id: this.editForm.get(['id'])!.value,\n      titre: this.editForm.get(['titre'])!.value,\n      description: this.editForm.get(['description'])!.value,\n      isbn: this.editForm.get(['isbn'])!.value,\n      code: this.editForm.get(['code'])!.value,\n      emplacement: this.editForm.get(['emplacement'])!.value,\n    };\n  }\n\n  protected subscribeToSaveResponse(result: Observable<HttpResponse<ILivre>>): void {\n    result.subscribe(\n      () => this.onSaveSuccess(),\n      () => this.onSaveError()\n    );\n  }\n\n  protected onSaveSuccess(): void {\n    this.isSaving = false;\n    this.previousState();\n  }\n\n  protected onSaveError(): void {\n    this.isSaving = false;\n  }\n\n  trackById(index: number, item: IEmplacement): any {\n    return item.id;\n  }\n}\n"]}